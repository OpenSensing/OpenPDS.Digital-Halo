<html>
  <head>
    <title>Look out! It's your digital halo!</title>
    <link rel="stylesheet" type="text/css" href="http://visapi-gadgets.googlecode.com/svn/trunk/termcloud/tc.css"/>
    <script type="text/javascript" src="http://visapi-gadgets.googlecode.com/svn/trunk/termcloud/tc.js"></script>
    <script type="text/javascript" src="http://www.google.com/jsapi"></script>
  </head>
  <body>
    <h1></h1> 
    <div id="tcdiv"></div>
    <script>
	  window.addEventListener('message', function(event) {
	      //window.alert(event.data);  // Message from content script
	      var halo = event.data
	    }, false);
    </script>
    <script type="text/javascript">
      google.load("visualization", "1");
//      google.setOnLoadCallback(draw);
	function draw() {
         data = new google.visualization.DataTable();
         data.addColumn('string', 'Label');
         data.addColumn('number', 'Value');
         data.addColumn('string', 'Link');
         data.addRows(3);
         data.setValue(0, 0, 'First Term');
         data.setValue(0, 1, 10);
         data.setValue(1, 0, 'Second');
         data.setValue(1, 1, 30);
         data.setValue(1, 2, 'http://www.google.com');
         data.setValue(2, 0, 'Third');
         data.setValue(2, 1, 20);
         var outputDiv = document.getElementById('tcdiv');
         var tc = new TermCloud(outputDiv);
         tc.draw(data, null);
        }
      
    </script>
   
    <div>
	<p>
	<button type='button' onclick='draw();' >See your Halo</button>
        </p>
    </div>


  </body>
</html>
